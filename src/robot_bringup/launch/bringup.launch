<launch>
  <!-- ========== Args (edit for your robot) ========== -->
  <arg name="use_robot_state_publisher" default="false"/>
  <arg name="robot_urdf" default="$(find robot_bringup)/config/robot.urdf"/>
  <arg name="odom_topic" default="/wheel_odom"/>
  <arg name="odom_frame" default="odom"/>
  <arg name="base_frame" default="base_link"/>

  <!-- Sensor static TFs (meters, radians) -->
  <arg name="laser_xyz"  default="0.23 0.00 0.18"/>
  <arg name="laser_rpy"  default="0 0 0"/>
  <arg name="laser_frame" default="laser"/>

  <arg name="imu_xyz"  default="0.00 0.00 0.10"/>
  <arg name="imu_rpy"  default="0 0 0"/>
  <arg name="imu_frame" default="imu_link"/>

  <arg name="cam_xyz"  default="0.12 0.03 0.18"/>
  <!-- camera optical frame: roll=+pi/2, yaw=+pi/2 typical -->
  <arg name="cam_rpy"  default="1.5708 0 1.5708"/>
  <arg name="camera_frame" default="camera_link"/>

  <!-- ========== URDF-based TFs (optional) ========== -->
  <group if="$(arg use_robot_state_publisher)">
    <node pkg="robot_state_publisher" type="robot_state_publisher" name="robot_state_publisher">
      <param name="publish_frequency" value="100.0"/>
      <param name="robot_description" textfile="$(arg robot_urdf)"/>
    </node>
  </group>

  <!-- ========== Static TFs for sensors ========== -->
  <!-- base_link -> laser -->
  <node pkg="tf" type="static_transform_publisher" name="tf_laser"
        args="$(arg laser_xyz) $(arg laser_rpy) base_link $(arg laser_frame) 100" output="screen"/>
  <!-- base_link -> imu_link -->
  <node pkg="tf" type="static_transform_publisher" name="tf_imu"
        args="$(arg imu_xyz) $(arg imu_rpy) base_link $(arg imu_frame) 100" output="screen"/>
  <!-- base_link -> camera_link -->
  <node pkg="tf" type="static_transform_publisher" name="tf_camera"
        args="$(arg cam_xyz) $(arg cam_rpy) base_link $(arg camera_frame) 100" output="screen"/>

  <!-- ========== Odom -> base_link broadcaster ========== -->
  <node pkg="robot_bringup" type="odom_tf_broadcaster" name="odom_tf_broadcaster" output="screen">
    <param name="odom_topic" value="$(arg odom_topic)"/>
    <param name="odom_frame" value="$(arg odom_frame)"/>
    <param name="base_frame" value="$(arg base_frame)"/>
    <param name="republish_odom" value="true"/>
  </node>

  <!-- NOTE:
       map -> odom is provided by your SLAM/Localization (e.g., AMCL, LIO-SAM). Launch separately.
  -->
</launch>
